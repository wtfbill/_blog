(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{750:function(e,a,t){"use strict";t.r(a);t(391);var r=t(462),s=(t(252),t(251)),n=(t(286),t(290)),o=(t(259),t(265)),i=(t(295),t(309)),l=t(21),c=t(22),u=t(24),m=t(23),d=t(25),p=t(0),f=t.n(p),h=t(278),b=t(26),g=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).handleSubmit=function(e){e.preventDefault();var a=t.props,r=a.dispatchRegister,s=a.onCancel;(0,t.props.form.validateFields)(function(e,a){e||(t.setState(function(){return{loading:!0}}),r(a).then(function(e){e&&e.status&&(s(),i.a.success("\u6ce8\u518c\u6210\u529f")),t.setState(function(){return{loading:!1}})}))})},t.checkUsername=function(e,a,r){(0,t.props.dispatchCheckUsername)({username:a}).then(function(e){e&&(e.status?r():r(e.message))})},t.compareToNextPassword=function(e,a,r){var s=t.props.form,n=s.getFieldValue,o=s.validateFields;n("confirmPassword")&&a&&o(["confirmPassword"],function(e,a){}),r()},t.compareToFirstPassword=function(e,a,r){var s=(0,t.props.form.getFieldValue)("password");s&&a&&a!==s?r("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):r()},t.state={loading:!1},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isShow,t=e.onCancel,i=this.props.form.getFieldDecorator,l=this.state.loading;return f.a.createElement(r.a,{title:"\u6ce8\u518c",visible:a,onCancel:t,width:434,footer:null},f.a.createElement(n.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6,offset:0},wrapperCol:{span:17,offset:0}},{className:"login-form"}),f.a.createElement(n.a.Item,{label:"\u7528\u6237\u90ae\u7bb1"},i("username",{validateTrigger:"onBlur",rules:[{type:"email",message:"\u8bf7\u6ce8\u610f\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1\u683c\u5f0f"},{required:!0,message:"\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1"},{validator:this.checkUsername}]})(f.a.createElement(o.a,null))),f.a.createElement(n.a.Item,{label:"\u7528\u6237\u6635\u79f0"},i("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0"}]})(f.a.createElement(o.a,null))),f.a.createElement(n.a.Item,{label:"\u65b0\u5bc6\u7801",hasFeedback:!0},i("password",{validateFirst:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{min:6,message:"\u5bc6\u7801\u957f\u5ea6\u81f3\u5c11\u4e3a6"},{validator:this.compareToNextPassword}]})(f.a.createElement(o.a.Password,null))),f.a.createElement(n.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",hasFeedback:!0},i("confirmPassword",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801"},{validator:this.compareToFirstPassword}]})(f.a.createElement(o.a.Password,null))),f.a.createElement(n.a.Item,{wrapperCol:{span:23,offset:0}},f.a.createElement(s.a,{type:"primary",loading:l,htmlType:"submit",style:{width:"100%",float:"right"}},"\u6ce8\u518c"))))}}]),a}(p.Component);a.default=Object(b.b)(null,function(e){return{dispatchRegister:function(a){return e(Object(h.f)(a))},dispatchCheckUsername:function(a){return e(Object(h.a)(a))}}})(n.a.create({name:"register"})(g))}}]);